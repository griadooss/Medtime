{
  // Dart/Flutter specific settings
  "[dart]": {
    "editor.formatOnSave": true,  // Only format Dart files on save, not on open
    "editor.formatOnType": false,
    "editor.formatOnPaste": false,
    "editor.defaultFormatter": "Dart-Code.dart-code",
    "editor.rulers": [80],
    "editor.selectionHighlight": false,
    "editor.suggest.snippetsPreventQuickSuggestions": false,
    "editor.suggestSelection": "first",
    "editor.tabCompletion": "onlySnippets",
    "editor.wordBasedSuggestions": "off",
    // Explicitly disable file-level formatting for Dart files
    "files.insertFinalNewline": false,
    "files.trimTrailingWhitespace": false
  },

  // Use Dart formatter for Dart files
  "dart.lineLength": 80,
  "dart.enableSdkFormatter": true,

  // File associations
  "files.associations": {
    "*.dart": "dart"
  },

  // Editor settings - ALL AUTO-FORMATTING DISABLED to prevent file modifications
  "editor.trimAutoWhitespace": false,
  "files.insertFinalNewline": false,
  "files.trimTrailingWhitespace": false,
  "files.trimFinalNewlines": false,
  "files.eol": "\n",
  "files.autoSave": "off",  // Disable auto-save to prevent any modifications
  
  // CRITICAL: Disable ALL formatting for ALL file types by default
  "[*]": {
    "editor.formatOnSave": false,
    "editor.formatOnType": false,
    "editor.formatOnPaste": false,
    "files.insertFinalNewline": false,
    "files.trimTrailingWhitespace": false,
    "editor.trimAutoWhitespace": false
  },
  
  // Disable file watchers that might trigger modifications
  "files.watcherExclude": {
    "**/.git/**": true,
    "**/node_modules/**": true
  },
  
  // Note: .editorconfig has been removed to prevent auto-modification on file open
  // VS Code/Cursor's built-in EditorConfig support was applying rules automatically

  // Format on save - DISABLED globally, enabled only for Dart files below
  // Pre-commit hook will format before commits
  "editor.formatOnSave": false,
  "editor.formatOnSaveMode": "file",

  // Prevent automatic formatting on file open
  "editor.formatOnType": false,
  "editor.formatOnPaste": false

  // Exclude build and generated files from formatting
  "files.exclude": {
    "**/.dart_tool": true,
    "**/.flutter-plugins": true,
    "**/.flutter-plugins-dependencies": true,
    "**/.packages": true,
    "**/.pub-cache": true,
    "**/.pub": true,
    "**/build": true
  }
}
