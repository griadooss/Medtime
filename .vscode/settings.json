{
  // CRITICAL: Disable ALL auto-formatting to prevent Cursor from modifying files
  // These settings prevent files from being modified when opened in Cursor
  
  // Global settings - apply to ALL file types
  "editor.trimAutoWhitespace": false,
  "files.insertFinalNewline": false,
  "files.trimTrailingWhitespace": false,
  "files.trimFinalNewlines": false,
  "files.eol": "\n",
  "files.autoSave": "off",
  "editor.formatOnSave": false,
  "editor.formatOnType": false,
  "editor.formatOnPaste": false,
  
  // Disable formatting for ALL file types by default
  "[*]": {
    "editor.formatOnSave": false,
    "editor.formatOnType": false,
    "editor.formatOnPaste": false,
    "files.insertFinalNewline": false,
    "files.trimTrailingWhitespace": false,
    "editor.trimAutoWhitespace": false
  },
  
  // Dart/Flutter specific settings - ONLY format on save, never on open
  "[dart]": {
    "editor.formatOnSave": true,  // Only format when user explicitly saves
    "editor.formatOnType": false,
    "editor.formatOnPaste": false,
    "editor.defaultFormatter": "Dart-Code.dart-code",
    "editor.rulers": [80],
    "editor.selectionHighlight": false,
    "editor.suggest.snippetsPreventQuickSuggestions": false,
    "editor.suggestSelection": "first",
    "editor.tabCompletion": "onlySnippets",
    "editor.wordBasedSuggestions": "off",
    // Explicitly disable file-level formatting
    "files.insertFinalNewline": false,
    "files.trimTrailingWhitespace": false,
    "editor.trimAutoWhitespace": false
  },

  // Use Dart formatter for Dart files
  "dart.lineLength": 80,
  "dart.enableSdkFormatter": true,

  // File associations
  "files.associations": {
    "*.dart": "dart"
  },
  
  // Disable file watchers that might trigger modifications
  "files.watcherExclude": {
    "**/.git/**": true,
    "**/node_modules/**": true
  },

  // Exclude build and generated files from formatting
  "files.exclude": {
    "**/.dart_tool": true,
    "**/.flutter-plugins": true,
    "**/.flutter-plugins-dependencies": true,
    "**/.packages": true,
    "**/.pub-cache": true,
    "**/.pub": true,
    "**/build": true
  },
  
  // Note: .editorconfig has been removed to prevent auto-modification
  // All auto-formatting is disabled to prevent Cursor from modifying files on open
  // Pre-commit hook will still format Dart files before commits
}
