{
  // Dart/Flutter specific settings
  "[dart]": {
    "editor.formatOnSave": true,
    "editor.formatOnType": false,
    "editor.formatOnPaste": false,
    "editor.defaultFormatter": "Dart-Code.dart-code",
    "editor.rulers": [80],
    "editor.selectionHighlight": false,
    "editor.suggest.snippetsPreventQuickSuggestions": false,
    "editor.suggestSelection": "first",
    "editor.tabCompletion": "onlySnippets",
    "editor.wordBasedSuggestions": "off"
  },

  // Use Dart formatter for Dart files
  "dart.lineLength": 80,
  "dart.enableSdkFormatter": true,

  // File associations
  "files.associations": {
    "*.dart": "dart"
  },

  // Editor settings
  "editor.trimAutoWhitespace": true,
  // Disable auto-insert final newline to prevent files showing as modified on open
  // The .editorconfig file will still be respected by other tools
  "files.insertFinalNewline": false,
  "files.trimTrailingWhitespace": true,
  "files.trimFinalNewlines": false,
  "files.eol": "\n",

  // Disable VS Code/Cursor's built-in EditorConfig support
  // This prevents .editorconfig from auto-applying rules on file open
  "editorconfig.enable": false,

  // Format on save (pre-commit hook will also format before commits)
  "editor.formatOnSave": true,
  "editor.formatOnSaveMode": "file",

  // Prevent automatic formatting on file open
  "editor.formatOnType": false,
  "editor.formatOnPaste": false,

  // EditorConfig extension settings
  // Keep EditorConfig enabled but prevent auto-modification on file open
  "editorconfig.generateAuto": false,
  "editorconfig.autoFixOnSave": true,  // Apply EditorConfig rules on save (not on open)
  "editorconfig.fixOnSave": true,      // Alternative setting name

  // Exclude build and generated files from formatting
  "files.exclude": {
    "**/.dart_tool": true,
    "**/.flutter-plugins": true,
    "**/.flutter-plugins-dependencies": true,
    "**/.packages": true,
    "**/.pub-cache": true,
    "**/.pub": true,
    "**/build": true
  }
}
